!function(h){var g="[data-toggle=bfh-datepicker]",i=function(a,b){this.options=h.extend({},h.fn.bfhdatepicker.defaults,b);this.$element=h(a);this.initCalendar()};i.prototype={constructor:i,daysInMonth:function(a,b){return new Date(b,a,0).getDate()},dayOfWeek:function(a,b,c){return new Date(b,a,c).getDay()},formatDate:function(a,b,d){var c=this.options.format;a+=1;a=new String(a);d=new String(d);if(a.length==1){a="0"+a}if(d.length==1){d="0"+d}c=c.replace("m",a);c=c.replace("y",b);c=c.replace("d",d);return c},parse:function(e,r){var b=this.options.format;var a=b.indexOf("m");var s=b.indexOf("y");var d=b.indexOf("d");var c=[{type:"m",pos:a},{type:"y",pos:s},{type:"d",pos:d}];c.sort(function(l,k){return l.pos-k.pos});var q=r.match(/(\d+)/g);for(var p=0;p<c.length;p++){if(c[p]["type"]==e){return new Number(q[p]).toString()}}},initCalendar:function(){var a=this.options.date;if(a==""){var b=new Date();this.$element.data("month",b.getMonth());this.$element.data("year",b.getFullYear())}else{this.$element.find("input[type=text]").val(a);this.$element.data("month",this.parse("m",a)-1);this.$element.data("year",this.parse("y",a))}this.updateCalendar()},updateCalendar:function(){var z,c,e,d,C,D;var c=new Date();e=this.$element.data("month");d=this.$element.data("year");z=this.$element.find(".bfh-datepicker-calendar");z.find("table > thead > tr > th.month > span").text(BFHMonthsList[e]);z.find("table > thead > tr > th.year > span").text(d);C=z.find("table > thead > tr.days-header");C.html("");for(var x=0;x<BFHDaysList.length;x++){C.append("<th>"+BFHDaysList[x]+"</th>")}D=z.find("table > tbody");D.html("");var v=this.daysInMonth(e,d);var w=this.daysInMonth(e+1,d);var A=this.dayOfWeek(e,d,1);var a=this.dayOfWeek(e,d,w);var B="";for(var x=0;x<A;x++){if(x==0){B+="<tr>"}B+='<td class="off">'+(w-A+x)+"</td>";if(x==6){B+="</tr>";D.append(B);B=""}}for(var x=1;x<=w;x++){var b=this.dayOfWeek(e,d,x);if(b==0){B+="<tr>"}if(x==c.getDate()&&e==c.getMonth()&&d==c.getFullYear()){B+='<td data-day="'+x+'" class="today">'+x+"</td>"}else{B+='<td data-day="'+x+'">'+x+"</td>"}if(b==6){B+="</tr>";D.append(B);B=""}}for(var x=a+1,y=1;x<=6;x++,y++){if(x==0){B+="<tr>"}B+='<td class="off">'+y+"</td>";if(x==6){B+="</tr>";D.append(B);B=""}}},previousMonth:function(a){var b=h(this),c,d;c=b.closest(".bfh-datepicker");if(c.data("month")==0){c.data("month",11);c.data("year",new Number(c.data("year"))-1)}else{c.data("month",new Number(c.data("month"))-1)}d=c.data("bfhdatepicker");d.updateCalendar();return false},nextMonth:function(a){var b=h(this),c,d;c=b.closest(".bfh-datepicker");if(c.data("month")==11){c.data("month",0);c.data("year",new Number(c.data("year"))+1)}else{c.data("month",new Number(c.data("month"))+1)}d=c.data("bfhdatepicker");d.updateCalendar();return false},previousYear:function(a){var b=h(this),c,d;c=b.closest(".bfh-datepicker");c.data("year",new Number(c.data("year"))-1);d=c.data("bfhdatepicker");d.updateCalendar();return false},nextYear:function(a){var b=h(this),c,d;c=b.closest(".bfh-datepicker");c.data("year",new Number(c.data("year"))+1);d=c.data("bfhdatepicker");d.updateCalendar();return false},select:function(a){var b=h(this),c,e;c=b.closest(".bfh-datepicker");var d=c.data("month");var m=c.data("year");var n=b.data("day");e=c.data("bfhdatepicker");c.find("input[type=text]").val(e.formatDate(d,m,n)).trigger("change");return false},toggle:function(a){var b=h(this),c,d;if(b.is(".disabled, :disabled")){return}c=j(b);d=c.hasClass("open");f();if(!d){c.toggleClass("open")}return false}};function f(){j(h(g)).removeClass("open")}function j(a){var c=a.attr("data-target"),b;if(!c){c=a.attr("href");c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,"")}b=h(c);b.length||(b=a.parent());return b}h.fn.bfhdatepicker=function(a){return this.each(function(){var b=h(this),c=b.data("bfhdatepicker"),d=typeof a=="object"&&a;if(!c){b.data("bfhdatepicker",(c=new i(this,d)))}if(typeof a=="string"){c[a]()}})};h.fn.bfhdatepicker.Constructor=i;h.fn.bfhdatepicker.defaults={format:"m/d/y",date:""};h(window).on("load",function(){h("div.bfh-datepicker").each(function(){var a=h(this);a.bfhdatepicker(a.data())})});h(function(){h("html").on("click.bfhdatepicker.data-api",f);h("body").on("click.bfhdatepicker.data-api touchstart.bfhdatepicker.data-api",g,i.prototype.toggle).on("click.bfhdatepicker.data-api touchstart.bfhdatepicker.data-api",".bfh-datepicker-calendar > table.calendar .month > .previous",i.prototype.previousMonth).on("click.bfhdatepicker.data-api touchstart.bfhdatepicker.data-api",".bfh-datepicker-calendar > table.calendar .month > .next",i.prototype.nextMonth).on("click.bfhdatepicker.data-api touchstart.bfhdatepicker.data-api",".bfh-datepicker-calendar > table.calendar .year > .previous",i.prototype.previousYear).on("click.bfhdatepicker.data-api touchstart.bfhdatepicker.data-api",".bfh-datepicker-calendar > table.calendar .year > .next",i.prototype.nextYear).on("click.bfhdatepicker.data-api touchstart.bfhdatepicker.data-api",".bfh-datepicker-calendar > table.calendar td:not(.off)",i.prototype.select).on("click.bfhdatepicker.data-api touchstart.bfhdatepicker.data-api",".bfh-datepicker-calendar > table.calendar",function(){return false})})}(window.jQuery);